@use "variables" as *;

// 列印、分享、返回、字型大小 等功能圖示 //
// ------------------------------------------------------ //
.funcBar{
  --size: 56px;
  --tinge: #{$borderColorDark};

  position: relative; margin-bottom: 10px;
  ul{ list-style: none; margin: 0;padding: 0; text-align: center;}
  &>ul{
    display: flex; flex-flow: row nowrap; justify-content: flex-end;
    &>li{
      position: relative; margin:4px;padding:0;
      &:last-child {margin-right: 0;}
      &>a, &>button{
        display: block;
        width: var(--size);height: var(--size); line-height: var(--size);
        margin:0; padding:0; 
        border-radius: 50%;
        text-decoration: none; white-space: nowrap;
        color: transparent;
        background-color: $white; background-repeat: no-repeat; 
        background-position: center center;
        border: 1px solid var(--tinge);

        transition:background .2s, box-shadow .2s, border .2s;

        &::before {
          content: attr(aria-label); 
          position: absolute; left: 0; top: 0;
          width: 100%; height: calc(1em + 4px);
          font-size: .9rem; line-height: 1;
          padding: 2px 0;
          color: $fontColor;
          text-shadow: #fff 0 0 2px,#fff 0 0 2px,#fff 0 0 2px,#fff 0 0 2px,#fff 0 0 2px,#fff 0 0 2px;
          opacity: 0; transform: translateY(0);
          transition: .3s;
        }
        &:hover, &:focus{
          border-color: white;
          box-shadow: var(--tinge) 0 0 0 3px;
          background-color: var(--tinge);
          color: $white;
          &::before{
            opacity: 1;transform: translateY(-130%);
          }
        }
      }
      &.back, &.print, &.share {
        &>a, &>button{
          position: relative;
          &::after {
            content: ''; position: absolute; left: 0; top: 0;
            width: 100%; height: 100%;
            background-repeat: no-repeat;
            background-position: center center;
            background-size: 30px;
          }
          &:hover, &:focus{
            &::after { filter: brightness(50);}
          }
        }
        &:is(.back){
           &>a, &>button{
             &::after{background-image: url(../images/icon_back.svg);}
          }
        }
        &:is(.print){
          &>a, &>button{
             &::after{background-image: url(../images/icon_print.svg);}
          }
        }
        &:is(.share){
          &>a, &>button{
             &::after{background-image: url(../images/icon_share.svg);}
          }
        }
      }

      // 第二層
      &.compound {
        &>button{ z-index: 9;position: relative;}
        &>ul{ 
          display: none;
          position: absolute; top: auto; left: 0; 
          width: var(--size); 
          &>li{
            position: absolute; top: 0; left: 0; 
            margin: 4px 0; padding: 0;
            &>a, &>button {
              display: block; padding: 0; margin: 0;
              width: var(--size); height: var(--size); line-height: var(--size);
              border-radius: 50%;
              transition: .2s;
            }
          }
        }
      }
      
      // 分享
      &.share>ul>li{
        &>a{
          text-indent: -15em; overflow: hidden;
          background-color: transparent;
          &:hover, &:focus{
            box-shadow:$white 0 0 0 2px, $borderColorDark 0 0 0 4px;
          }
        }
        img{
          display: block; width: 100%; height: 100%; 
          margin: 0 auto;border-radius: 50%;
        }  
      }

      // 字型大小
      &.fontSize{
        button{
          color: $fontColor;
          &:hover, &:focus{ color: $white;}
        }

        li{
          button{
            background-color: var(--tinge); color: $white;
            border:1px solid transparent;
            &:hover, &:focus{
              border-color: $white;
              box-shadow: var(--tinge) 0 0 0 3px;
            }
          }
        }

        .smallFont{ font-size: 1rem;}
        .mediumFont{ font-size: 1.25rem;}
        .largeFont{ font-size: 1.5rem;}

        &>button{ 
          position: relative;
          &::after{
            position: absolute; left: 10px; bottom: 20px; line-height: 1;
            font-size: .6rem;
          }
        }        
      }
    }
  }

  &:has( ~ .themeBanner) {
    z-index: 9;
    position: absolute; right: $marginDocMob; 
    left: auto;width: auto;

    @media screen and (min-width: $wwNormal){
      right: $marginDoc; 
      top: calc(1em + 32px);
    }
    @media screen and (min-width: $wwMaximum){
      right: $marginDocMax;
    }
  }

}
// ------------------------------------------------------ //

.breadcrumb ~ .funcBar{
  @extend %primSecWidth;
  margin: 0 auto;
  padding-top: 8px;
  
  @media screen and (min-width: $wwNormal){
    padding-top: 0;
  }

}

