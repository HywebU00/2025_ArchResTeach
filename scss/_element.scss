@use "variables" as *;
@use "accessories" as *;

// 無障礙定位點
// --------------------------------------------------------------- //
.accesskey{
  --tinge: #666;

  position: absolute; display: none;
  @media screen and (min-width: $wwNormal){
    display: block; left: 0; top: 0; z-index: 29;
    line-height: 1; padding: 2px; margin: 2px;
    text-decoration: none; color: var(--tinge);
    &:hover, &:focus{--tinge: #000;}
    &:hover{outline: 1px solid var(--tinge);}
    &:focus{outline: 2px solid var(--tinge);}
  }
}
.main:has(>.archiveAndStories),
.main:has(>.themeBanner),
.main:has(>.topicComplex),
.main:has(>.cp) {
  .accesskey {
    --tinge: #fff;
  }
}

.siteFooter .accesskey {
  --tinge: #{$fontColorLight};
}
@media screen and (min-width: calc($wwMaximum + 2em)){
  .siteHeader .accesskey,
  .main .accesskey, 
  .siteFooter .accesskey { left: calc(50% - $wwMaximum*.5 - 1em);}
}
// --------------------------------------------------------------- //



//  跳至內容區
// --------------------------------------------------------------- //
.goCenter{ display: none;
  @media screen and (min-width: $wwNormal){
    opacity: 0; 
    position: absolute; top: -2em; left: calc($marginDoc + 180px);
    display: block; z-index: 105; overflow: hidden;
    font-size: .9rem; border-radius: 0 0 4px 4px;
    height: 1.6em; line-height: 1.6; padding: 0 .5em;
    background: $black; color: $fontInvert;
    text-decoration: none; outline: none;  cursor: pointer;
    transition: top .3s, opacity .3s; 
    &:focus{ top: 0; color: $fontInvert;opacity: 1;}
  }
  @media screen and (min-width: $wwMaximum){
    left: calc($marginDocMax + 180px);
  }
  
}
// --------------------------------------------------------------- //

// 回頁面最上方 
// --------------------------------------------------------------- //
button.goTop{
  --tinge: #{$primaryColor};
  --bg: #{$white};
  --arrowSize : 16px;
  --gotop-size: 64px;
  --gotop-margin: 16px;

  z-index: 90; 
  position: fixed; bottom: -80px; right: var(--gotop-margin);
  width: var(--gotop-size); height: var(--gotop-size);
  text-indent: -15em;overflow: hidden;
  padding:0;margin: 0;
  border: none; border-radius: 50%; 
  background-color: var(--bg);
  box-shadow: rgb(0 0 0 / .4) 0 0 12px;
  transition: all .2s, bottom .6s;
  &::before{
    content: ''; position: absolute;
    box-sizing: border-box;
    width: var(--arrowSize); height: var(--arrowSize);
    left: calc( ( var(--gotop-size) - var(--arrowSize) )/2 + 1px ); top: calc( var(--gotop-size)/2 - var(--arrowSize)/4 );
    border: 2px solid var(--tinge); 
    border-bottom: none; border-right: none;
    transform: rotate(45deg);
  }

  &:hover, &:focus {
    --tinge: #{$white};
    --bg: #{$primaryColor};
    background-color: var(--bg);
  }
  &:focus {
    box-shadow:#fff 0 0 0 1px, var(--bg) 0 0 0 4px;
  }
  &.show{ bottom: var(--gotop-margin);}

  @media screen and (min-width: calc($maximumWidth + 128px + 64px)){
    // 128px = var(--gotop-size)*2 , 64px = var(--gotop-margin)*4
    right: calc(50% - $maximumWidth*.5 - var(--gotop-size) - var(--gotop-margin) );
  }

}
// --------------------------------------------------------------- //


// 行動版側欄開關 （漢堡）
// --------------------------------------------------------------- //
button.sidebarCtrl{
  
  --tinge : #{$black};
  --bg: transparent;

  position: absolute;right: 0;top: 0;
  width: 60px; height: 60px; 
  margin: 0; padding: 0; border-radius: 0;
  border: none; box-shadow: none; outline: none;
  text-indent: -20em; overflow: hidden; cursor: pointer;
  background-color: var(--bg);
  transition: .2s;
  &::before, &::after{
    content: ''; width: 24px; height: 1px;
    position: absolute; top: 50%; left: calc(50% - 12px);
    background: var(--tinge); 
    transition: .2s;
  }
  &::before{
    box-shadow: var(--tinge) 0 -7px 0, var(--tinge) 0 7px 0;
  }
  &::after {opacity: 0;}

  &:hover, &:focus {
    --tinge : #{$white};
    --bg: #{$black};
  }
  &:focus{ box-shadow: var(--bg) 0 0 0 3px inset, #fff 0 0 0 4px inset}


  &.closeIt{
    --bg: #{$black};
    --tinge : #{$white};

    &::before, &::after{
      width: 26px;left: calc(50% - 13px);
      // background-color: var(--tinge); 
    }
    &::before{ 
      transform: rotate(45deg);
      box-shadow: none;
    }
    &:after{
      opacity: 1;
      transform: rotate(-45deg);
    }
  }
}

// 首頁特調 [漢堡選單]
.siteHeader:not(.fixed):has(~.main>.archiveAndStories) {
  button.sidebarCtrl{
    --tinge : #{$white};
  }
}
// --------------------------------------------------------------- //



// more more more
// --------------------------------------------------------------- //
.more{
  --tinge: #{$fontColorDark};
  --bgc: transparent;
  --outline-c1: #{$fontColorDark};
  --outline-c2: transparent;

  padding: 5px;
  display: block;
  a{
    display: block;
    width: fit-content;
    height: 2.7em; line-height: 2.75;
    padding: 0 1.5em; border-radius: 2em;
    box-shadow: var(--outline-c1) 0 0 0 1px, var(--outline-c2) 0 0 0 4px;
    background-color: var(--bgc);
    color: var(--tinge);
    text-decoration: none;
    transition: .2s;

    &:hover, &:focus{
      --tinge: #{$white};
      --bgc: #{$fontColorDark};
    }
    &:focus {
      --outline-c1: #{$white};
      --outline-c2: #{$fontColorDark};
    }
  }
}
// --------------------------------------------------------------- //



// 關閉按鈕，呈現「Ｘ」<button>
// --------------------------------------------------------------- //
.closeThis{
  --width:44px;
  --bar-length:26px;
  --bar-thick:2px;
  --tinge: #fff;
  --bgc: rgb(0 0 0/ .6);

  position: relative;
  height: var(--width); width:  var(--width); 
  padding: 0; margin: 0;
  text-indent: -20em; overflow: hidden;
  border: none; outline: none; border-radius: 0;
  background-color: var(--bgc);

  &::before, &::after{
    content: ''; position: absolute; 
    background-color: var(--tinge);
    left: calc( (var(--width) - var(--bar-length))/2 );
    top:  calc( (var(--width) - var(--bar-thick))/2 );
    width: var(--bar-length); height: var(--bar-thick);
  }
  &::before{transform: rotate(45deg);}
  &::after{transform: rotate(-45deg);}

  &:hover, &:focus { 
    --bgc: #{$warning};
    background-color: var(--bgc);
    box-shadow: var(--bgc) 0 0 0 3px;
  }
}
// --------------------------------------------------------------- //



// 鍵盤樣式
// --------------------------------------------------------------- //
kbd {
  display: inline-block; vertical-align: middle; 
  margin: 0 .1em; padding: 0 .4em; height: 1.7em; line-height: 1.6;
  font-size: .938em; font-family: sans-serif; font-weight: bold; 
  border: 1px solid $borderColor; border-radius: 3px; 
  color: $fontColor; background: $fontInvert; 
  box-shadow: $shadow1 0 2px 0 1px;
  i{font-weight: normal;}
}
// --------------------------------------------------------------- //


// slick 套件用元件樣式
// --------------------------------------------------------------- //
.slick-slider {
  position: relative;

  button {
    border: none;outline: none;box-shadow: none;
    padding: 0; margin: 0;width: auto;
  }
}

// 點點或數字
.slick-dots { 
  --tinge: #{$gray};
  --dotSize: 8px;
  list-style: none; margin:0 auto;padding: 0;
  font-size: 0; text-align: center;

  li { 
    display: inline-block; 
    margin: 0 3px; padding: 2px;
    pointer-events: none;
    span {display: block;}
    button, span { 
      width: var(--dotSize); height: var(--dotSize); border-radius: 50%;
      overflow: hidden; box-shadow: none;
      background: var(--tinge);
      &:hover{
        --tinge: #{$grayDark};
      } 
      &:focus{--tinge: #{$primaryColor};}
    }

    &.slick-active{
      --tinge: #{$primaryColor};

      button, span{ 
        box-shadow:var(--tinge) 0 0 0 2px;
        &:focus{ box-shadow:$white 0 0 0 1px, $primaryColor 0 0 0 3px;}
      }
    }

  }
}
// 左右箭頭
button.slick-arrow {
  --buttonSize: 44px;
  --bgc:  #{$white};
  --tinge: #{$black};

  position: absolute; z-index: 9; 
  text-indent: -20em; overflow: hidden;font-size: 0;
  height: var(--buttonSize);width: var(--buttonSize); 
  border-radius: 50%;
  background-color: var(--bgc);
  box-shadow: var(--tinge) 0 0 0 1px;
  transition: .2s;

  &::before {
    content: ''; position: absolute;
  }
  &::before {
    top: calc(50% - 6px);
    width: 12px; height: 12px;
    border: 1px solid var(--tinge);
    rotate: 45deg;
  }
  &.slick-prev {
    &::before{
      border-right: none; border-top: none;
      left: calc(50% - 3px);
    }
  }
  &.slick-next {
    &::before{
      border-left: none; border-bottom: none;
      right: calc(50% - 3px);
    }
  }

  &:hover, &:focus{
    --bgc: #{$primaryColor};
    --tinge: #{$white};

    box-shadow: var(--bgc) 0 0 0 2px;
  }
  &:focus{
    box-shadow: var(--tinge) 0 0 0 1px, var(--bgc) 0 0 0 4px;
  }
}
// --------------------------------------------------------------- //


// 自訂的左右導覽 arrows
.navArrow {
  --buttonSize: 44px;
  --bgc:  #{$white};
  --tinge: #{$black};

  position: absolute; z-index: 9; 
  text-indent: -20em; overflow: hidden;font-size: 0;
  height: var(--buttonSize);width: var(--buttonSize); 
  border-radius: 50%;
  background-color: var(--bgc);
  box-shadow: var(--tinge) 0 0 0 1px;
  border: none;
  transition: .2s;

  &::before {
    content: ''; position: absolute;
  }
  &::before {
    top: calc(50% - 6px);
    width: 12px; height: 12px;
    border: 1px solid var(--tinge);
    rotate: 45deg;
  }
  &.prev {
    &::before{
      border-right: none; border-top: none;
      left: calc(50% - 3px);
    }
  }
  &.next {
    &::before{
      border-left: none; border-bottom: none;
      right: calc(50% - 3px);
    }
  }

  &:hover, &:focus{
    --bgc: #{$primaryColor};
    --tinge: #{$white};

    box-shadow: var(--bgc) 0 0 0 2px;
  }
  &:focus{
    box-shadow: var(--tinge) 0 0 0 1px, var(--bgc) 0 0 0 4px;
  }

}


// 控制輪播暫停、繼續 button
// --------------------------------------------------------------- //
button.pausePlay {
  --size: 44px;
  --tinge: #{$black};
  --bgc: #{$white};
  --borderColor: #{$black};
  --borderWidth: 1px;

  position: absolute;z-index: 19;
  width: var(--size); height: var(--size); border-radius: 50%;
  padding: 0; margin: 5;
  border: none;outline: none;box-shadow: none;
  background-color: var(--bgc);
  box-shadow: var(--borderColor) 0 0 0 var(--borderWidth);
  cursor: pointer;
  transition: .2s;
  &::before, &::after {content: ''; position: absolute;}
  &::before {
    top: calc(50% - 7px); left: calc(50% - 5px);
    width: 2px; height: 14px;
    background-color: var(--tinge);
    box-shadow:  var(--tinge) 8px 0 0 0;
  }
  &::after {
    display: none;
    top: calc(50% - 8px); left: calc(50% - 3px);
    width: 1px; height: 1px;
    border-style: solid;
    border-width: 8px 0 8px 10px;
    border-color: transparent transparent transparent var(--tinge);
  }

  &:hover, &:focus{ 
    // --bgc: #{$primaryColor};
    --tinge: #{$primaryColor};
    --borderColor: #{$primaryColor};
    --borderWidth: 2px;
  }

  &.paused{

    --bgc: #{$primaryColor};
    --tinge: #{$white};
    --borderColor: #{$primaryColor};

    &:focus {
      box-shadow: var(--tinge) 0 0 0 1px, var(--bgc) 0 0 0 4px;
    }

    &::before{ display: none; }
    &::after{ display: block; }
  }


}
// --------------------------------------------------------------- //



// 模擬 button 元件
// --------------------------------------------------------------- //
.button{
  margin: 30px 0 50px;
  &.center{text-align: center;}
  &>a {
    display: inline-block; text-decoration: none !important;
    padding: 0 2em; text-align: center;
    border-radius: 1.5em;
    height: var(--inputHeight); line-height: var(--inputLineHeight);
    background-color: $primaryColor; color: $white !important;
    outline: none !important;
    transition: .2s;

    &:hover, &:focus {
      text-decoration: none;
      box-shadow: transparent 0 0 0 1px, $primaryColor 0 0 0 2px;
    }
    &:focus {box-shadow:$white 0 0 0 1px, $primaryColor 0 0 0 4px;}
  }

  @media screen and (min-width: $wwNormal){
    margin: 30px 0 70px;
  }

}
// --------------------------------------------------------------- //
